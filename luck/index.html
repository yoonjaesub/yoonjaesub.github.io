<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {margin: 0; padding: 0;}
        body {display: flex; justify-content: center; align-items: center; width: 100vw; height: 100vh; flex-direction: column;}
        table {width: 400px; height: 400px; border: 1px solid #333; background-color: black;}
        td {border: 1px solid #333; text-align: center; font-weight: bold; background-color: white;}
        #create_btn {width: 300px; height: 50px; margin-top: 100px; border: none; background-color: coral; color: white; font-weight: bold; font-size: 22px;}
        #create_btn:hover {background-color: rgb(250, 101, 46); cursor: pointer;}
        .on {background-color: #f6f990;}
    </style>
</head>
<body>
    <table>
        <tr>
            <td id="1">1</td>
            <td id="2">2</td>
            <td id="3">3</td>
            <td id="4">4</td>
            <td id="5">5</td>
            <td id="6">6</td>
            <td id="7">7</td>
        </tr>
        <tr>
            <td id="8">8</td>
            <td id="9">9</td>
            <td id="10">10</td>
            <td id="11">11</td>
            <td id="12">12</td>
            <td id="13">13</td>
            <td id="14">14</td>
        </tr>
        <tr>
            <td id="15">15</td>
            <td id="16">16</td>
            <td id="17">17</td>
            <td id="18">18</td>
            <td id="19">19</td>
            <td id="20">20</td>
            <td id="21">21</td>
        </tr>
        <tr>
            <td id="22">22</td>
            <td id="23">23</td>
            <td id="24">24</td>
            <td id="25">25</td>
            <td id="26">26</td>
            <td id="27">27</td>
            <td id="28">28</td>
        </tr>
        <tr>
            <td id="29">29</td>
            <td id="30">30</td>
            <td id="31">31</td>
            <td id="32">32</td>
            <td id="33">33</td>
            <td id="34">34</td>
            <td id="35">35</td>
        </tr>
        <tr>
            <td id="36">36</td>
            <td id="37">37</td>
            <td id="38">38</td>
            <td id="39">39</td>
            <td id="40">40</td>
            <td id="41">41</td>
            <td id="42">42</td>
        </tr>
        <tr>
            <td id="43">43</td>
            <td id="44">44</td>
            <td id="45">45</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </table>
    <button type="button" id="create_btn" onclick="generateNumbers();">생 성</button>
    <p>835 ~ 1176회</p>
    <script>
    // 835회 부터 ~ 1176회 까지 당첨된 숫자들
    // 동행복권 시작일 2018.12 (835회)
    // 숫자의 빈도를 매핑하는 객체
    const numberFrequencies = {
        1: 47,        2: 49,        3: 62,        4: 51,        5: 42, 
        6: 61,        7: 60,        8: 41,        9: 49,        10: 44, 
        11: 51,       12: 59,       13: 57,       14: 55,       15: 52, 
        16: 55,       17: 55,       18: 56,       19: 52,       20: 52, 
        21: 53,       22: 56,       23: 48,       24: 56,       25: 40, 
        26: 58,       27: 50,       28: 58,       29: 51,       30: 60, 
        31: 51,       32: 60,       33: 59,       34: 58,       35: 61, 
        36: 54,       37: 54,       38: 65,       39: 54,       40: 49, 
        41: 43,       42: 50,       43: 44,       44: 54,       45: 58
    };

    // 각 숫자의 빈도에 따라 num_list 배열 생성
    let num_list = [];
    for (const number in numberFrequencies) {
        for (let i = 0; i < numberFrequencies[number]; i++) {
            num_list.push(parseInt(number));
        }
    }

    function generateNumbers() {
        const tds = document.querySelectorAll("td");
        tds.forEach(td => td.classList.remove("on")); // 이전 하이라이트 제거
        let selectedNumbers = [];

        while (selectedNumbers.length < 6) { // 6개의 유일한 숫자 확보
            const randomIndex = Math.floor(Math.random() * num_list.length);
            const number = num_list[randomIndex];
            if (!selectedNumbers.includes(number)) {
                selectedNumbers.push(number);
            }
        }

        addHighlight(selectedNumbers, 0);
    }

    function addHighlight(numbers, index) {
        if (index >= numbers.length) return; // 모든 숫자가 처리되면 종료

        const td = document.getElementById(numbers[index]);
        td.classList.add("on"); // 선택된 숫자 하이라이트

        setTimeout(() => {
            addHighlight(numbers, index + 1); // 0.5초 후 다음 숫자 처리
        }, 500);
    }
    </script>
</body>
</html>
